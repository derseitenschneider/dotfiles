"use strict";var N=Object.create;var x=Object.defineProperty;var D=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames;var J=Object.getPrototypeOf,X=Object.prototype.hasOwnProperty;var T=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Q=(t,e)=>{for(var o in e)x(t,o,{get:e[o],enumerable:!0})},L=(t,e,o,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let c of W(e))!X.call(t,c)&&c!==o&&x(t,c,{get:()=>e[c],enumerable:!(i=D(e,c))||i.enumerable});return t};var y=(t,e,o)=>(o=t!=null?N(J(t)):{},L(e||!t||!t.__esModule?x(o,"default",{value:t,enumerable:!0}):o,t)),q=t=>L(x({},"__esModule",{value:!0}),t);var w=T((Z,$)=>{var{hasOwnProperty:M}=Object.prototype,C=typeof process<"u"&&process.platform==="win32"?`\r
`:`
`,S=(t,e)=>{let o=[],i="";typeof e=="string"?e={section:e,whitespace:!1}:(e=e||Object.create(null),e.whitespace=e.whitespace===!0);let c=e.whitespace?" = ":"=";for(let s of Object.keys(t)){let r=t[s];if(r&&Array.isArray(r))for(let n of r)i+=m(s+"[]")+c+m(n)+C;else r&&typeof r=="object"?o.push(s):i+=m(s)+c+m(r)+C}e.section&&i.length&&(i="["+m(e.section)+"]"+C+i);for(let s of o){let r=R(s).join("\\."),n=(e.section?e.section+".":"")+r,{whitespace:a}=e,f=S(t[s],{section:n,whitespace:a});i.length&&f.length&&(i+=C),i+=f}return i},R=t=>t.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(e=>e.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")),b=t=>{let e=Object.create(null),o=e,i=null,c=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,s=t.split(/[\r\n]+/g);for(let n of s){if(!n||n.match(/^\s*[;#]/))continue;let a=n.match(c);if(!a)continue;if(a[1]!==void 0){if(i=A(a[1]),i==="__proto__"){o=Object.create(null);continue}o=e[i]=e[i]||Object.create(null);continue}let f=A(a[2]),u=f.length>2&&f.slice(-2)==="[]",p=u?f.slice(0,-2):f;if(p==="__proto__")continue;let g=a[3]?A(a[4]):!0,E=g==="true"||g==="false"||g==="null"?JSON.parse(g):g;u&&(M.call(o,p)?Array.isArray(o[p])||(o[p]=[o[p]]):o[p]=[]),Array.isArray(o[p])?o[p].push(E):o[p]=E}let r=[];for(let n of Object.keys(e)){if(!M.call(e,n)||typeof e[n]!="object"||Array.isArray(e[n]))continue;let a=R(n);o=e;let f=a.pop(),u=f.replace(/\\\./g,".");for(let p of a)p!=="__proto__"&&((!M.call(o,p)||typeof o[p]!="object")&&(o[p]=Object.create(null)),o=o[p]);o===e&&u===f||(o[u]=e[n],r.push(n))}for(let n of r)delete e[n];return e},I=t=>t.startsWith('"')&&t.endsWith('"')||t.startsWith("'")&&t.endsWith("'"),m=t=>typeof t!="string"||t.match(/[=\r\n]/)||t.match(/^\[/)||t.length>1&&I(t)||t!==t.trim()?JSON.stringify(t):t.split(";").join("\\;").split("#").join("\\#"),A=(t,e)=>{if(t=(t||"").trim(),I(t)){t.charAt(0)==="'"&&(t=t.slice(1,-1));try{t=JSON.parse(t)}catch{}}else{let o=!1,i="";for(let c=0,s=t.length;c<s;c++){let r=t.charAt(c);if(o)"\\;#".indexOf(r)!==-1?i+=r:i+="\\"+r,o=!1;else{if(";#".indexOf(r)!==-1)break;r==="\\"?o=!0:i+=r}}return o&&(i+="\\"),i.trim()}return t};$.exports={parse:b,decode:b,stringify:S,encode:S,safe:m,unsafe:A}});var V={};Q(V,{default:()=>H});module.exports=q(V);var l=require("@raycast/api");var F=y(require("fs")),_=y(require("os")),j=y(w());var O={chromium:[{app:"Google Chrome",type:"CHROMIUM",title:"Google Chrome",path:"/Library/Application Support/Google/Chrome",icon:"chrome.png"},{app:"Google Chrome Dev",type:"CHROMIUM",title:"Google Chrome Dev",path:"/Library/Application Support/Google/Chrome Dev",icon:"chrome-dev.png"},{app:"Google Chrome Canary",type:"CHROMIUM",title:"Google Chrome Canary",path:"/Library/Application Support/Google/Chrome Canary",icon:"canary.png"},{app:"Chromium",type:"CHROMIUM",title:"Chromium",path:"/Library/Application Support/Chromium",icon:"chromium.png"},{app:"Brave Browser",type:"CHROMIUM",title:"Brave",path:"/Library/Application Support/BraveSoftware/Brave-Browser",icon:"brave.png"},{app:"Microsoft Edge",type:"CHROMIUM",title:"Microsoft Edge",path:"/Library/Application Support/Microsoft Edge",icon:"edge.png"},{app:"Microsoft Edge Dev",type:"CHROMIUM",title:"Microsoft Edge Dev",path:"/Library/Application Support/Microsoft Edge Dev",icon:"edge-dev.png"},{app:"Microsoft Edge Canary",type:"CHROMIUM",title:"Microsoft Edge Canary",path:"/Library/Application Support/Microsoft Edge Canary",icon:"edge-canary.png"}],firefox:[{app:"/Applications/Firefox.app/Contents/MacOS/firefox",type:"FIREFOX",title:"Firefox",path:"/Library/Application Support/Firefox",icon:"firefox.png"},{app:"/Applications/Firefox Developer Edition.app/Contents/MacOS/firefox",type:"FIREFOX",title:"Firefox Developer Edition",path:"/Library/Application Support/Firefox",icon:"firefox-dev.png"},{app:"/Applications/Firefox Nightly.app/Contents/MacOS/firefox",type:"FIREFOX",title:"Firefox Nightly",path:"/Library/Application Support/Firefox",icon:"firefox-nightly.png"}]};var k=()=>{let t=[];return O.firefox.forEach(e=>{let o=`${_.default.homedir()}${e.path}`;if(!F.default.existsSync(o))return null;let c=F.default.readFileSync(`${o}/profiles.ini`,"utf-8"),s=j.default.parse(c),r=[];Object.values(s).forEach(n=>{if(!n.Name)return null;r.push({type:e.type,browser:e.title,app:e.app,path:n.Name,name:n.Name,icon:e.icon})}),t.push({name:e.title,profiles:r})}),t};var d=y(require("fs")),G=y(require("os"));var U=()=>{let t=[];return O.chromium.forEach(e=>{let o=`${G.default.homedir()}${e.path}`;if(!d.default.existsSync(o))return null;let c=d.default.readdirSync(o),s=[];c.forEach(r=>{let n=`${o}/${r}/Preferences`;if(r==="System Profile"||!d.default.existsSync(n))return null;let a=d.default.readFileSync(n,"utf-8"),f=JSON.parse(a);s.push({type:e.type,browser:e.title,app:e.app,path:r,name:f.profile.name,icon:e.icon})}),t.push({name:e.title,profiles:s})}),t};var P=require("child_process"),B=(t,e,o)=>{t==="FIREFOX"&&K(e,o),t==="CHROMIUM"&&z(e,o)},z=(t,e)=>{(0,P.exec)(`open -n -a "${t}" --args --profile-directory="${e}"`)},K=(t,e)=>{(0,P.exec)(`"${t}" -P --no-remote ${e}`)};var h=require("react/jsx-runtime");function H(){let t=U(),e=k(),o=[...t,...e];return(0,h.jsx)(l.List,{children:o.map((i,c)=>(0,h.jsx)(l.List.Section,{title:i.name,children:i.profiles.map((s,r)=>(0,h.jsx)(l.List.Item,{icon:{source:`icons/${s.icon}`},title:s.name,accessories:[{text:"Launch this profile",icon:l.Icon.Globe}],actions:(0,h.jsx)(l.ActionPanel,{children:(0,h.jsx)(l.Action,{title:"Open Browser",onAction:async()=>{B(s.type,s.app,s.path),await(0,l.closeMainWindow)({clearRootSearch:!0})}})})},`firefox-profile-${r}`))},`browser-section-${c}`))})}
