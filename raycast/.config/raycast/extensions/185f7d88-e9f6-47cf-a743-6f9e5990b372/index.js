"use strict";var W=Object.create;var C=Object.defineProperty;var J=Object.getOwnPropertyDescriptor;var X=Object.getOwnPropertyNames;var T=Object.getPrototypeOf,Q=Object.prototype.hasOwnProperty;var q=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),v=(t,e)=>{for(var o in e)C(t,o,{get:e[o],enumerable:!0})},b=(t,e,o,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let c of X(e))!Q.call(t,c)&&c!==o&&C(t,c,{get:()=>e[c],enumerable:!(r=J(e,c))||r.enumerable});return t};var y=(t,e,o)=>(o=t!=null?W(T(t)):{},b(e||!t||!t.__esModule?C(o,"default",{value:t,enumerable:!0}):o,t)),z=t=>b(C({},"__esModule",{value:!0}),t);var _=q((te,j)=>{var{hasOwnProperty:P}=Object.prototype,d=typeof process<"u"&&process.platform==="win32"?`\r
`:`
`,F=(t,e)=>{let o=[],r="";typeof e=="string"?e={section:e,whitespace:!1}:(e=e||Object.create(null),e.whitespace=e.whitespace===!0);let c=e.whitespace?" = ":"=";for(let n of Object.keys(t)){let i=t[n];if(i&&Array.isArray(i))for(let s of i)r+=m(n+"[]")+c+m(s)+d;else i&&typeof i=="object"?o.push(n):r+=m(n)+c+m(i)+d}e.section&&r.length&&(r="["+m(e.section)+"]"+d+r);for(let n of o){let i=w(n).join("\\."),s=(e.section?e.section+".":"")+i,{whitespace:a}=e,f=F(t[n],{section:s,whitespace:a});r.length&&f.length&&(r+=d),r+=f}return r},w=t=>t.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(e=>e.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")),R=t=>{let e=Object.create(null),o=e,r=null,c=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,n=t.split(/[\r\n]+/g);for(let s of n){if(!s||s.match(/^\s*[;#]/))continue;let a=s.match(c);if(!a)continue;if(a[1]!==void 0){if(r=O(a[1]),r==="__proto__"){o=Object.create(null);continue}o=e[r]=e[r]||Object.create(null);continue}let f=O(a[2]),h=f.length>2&&f.slice(-2)==="[]",p=h?f.slice(0,-2):f;if(p==="__proto__")continue;let g=a[3]?O(a[4]):!0,E=g==="true"||g==="false"||g==="null"?JSON.parse(g):g;h&&(P.call(o,p)?Array.isArray(o[p])||(o[p]=[o[p]]):o[p]=[]),Array.isArray(o[p])?o[p].push(E):o[p]=E}let i=[];for(let s of Object.keys(e)){if(!P.call(e,s)||typeof e[s]!="object"||Array.isArray(e[s]))continue;let a=w(s);o=e;let f=a.pop(),h=f.replace(/\\\./g,".");for(let p of a)p!=="__proto__"&&((!P.call(o,p)||typeof o[p]!="object")&&(o[p]=Object.create(null)),o=o[p]);o===e&&h===f||(o[h]=e[s],i.push(s))}for(let s of i)delete e[s];return e},I=t=>t.startsWith('"')&&t.endsWith('"')||t.startsWith("'")&&t.endsWith("'"),m=t=>typeof t!="string"||t.match(/[=\r\n]/)||t.match(/^\[/)||t.length>1&&I(t)||t!==t.trim()?JSON.stringify(t):t.split(";").join("\\;").split("#").join("\\#"),O=(t,e)=>{if(t=(t||"").trim(),I(t)){t.charAt(0)==="'"&&(t=t.slice(1,-1));try{t=JSON.parse(t)}catch{}}else{let o=!1,r="";for(let c=0,n=t.length;c<n;c++){let i=t.charAt(c);if(o)"\\;#".indexOf(i)!==-1?r+=i:r+="\\"+i,o=!1;else{if(";#".indexOf(i)!==-1)break;i==="\\"?o=!0:r+=i}}return o&&(r+="\\"),r.trim()}return t};j.exports={parse:R,decode:R,stringify:F,encode:F,safe:m,unsafe:O}});var Z={};v(Z,{default:()=>D});module.exports=z(Z);var l=require("@raycast/api");var S=y(require("fs")),$=y(require("os")),k=y(_()),G=require("path");var A={chromium:[{app:"Google Chrome",type:"CHROMIUM",title:"Google Chrome",path:"/Library/Application Support/Google/Chrome",icon:"chrome.png"},{app:"Google Chrome Dev",type:"CHROMIUM",title:"Google Chrome Dev",path:"/Library/Application Support/Google/Chrome Dev",icon:"chrome-dev.png"},{app:"Google Chrome Canary",type:"CHROMIUM",title:"Google Chrome Canary",path:"/Library/Application Support/Google/Chrome Canary",icon:"canary.png"},{app:"Chromium",type:"CHROMIUM",title:"Chromium",path:"/Library/Application Support/Chromium",icon:"chromium.png"},{app:"Brave Browser",type:"CHROMIUM",title:"Brave",path:"/Library/Application Support/BraveSoftware/Brave-Browser",icon:"brave.png"},{app:"Microsoft Edge",type:"CHROMIUM",title:"Microsoft Edge",path:"/Library/Application Support/Microsoft Edge",icon:"edge.png"},{app:"Microsoft Edge Dev",type:"CHROMIUM",title:"Microsoft Edge Dev",path:"/Library/Application Support/Microsoft Edge Dev",icon:"edge-dev.png"},{app:"Microsoft Edge Canary",type:"CHROMIUM",title:"Microsoft Edge Canary",path:"/Library/Application Support/Microsoft Edge Canary",icon:"edge-canary.png"}],firefox:[{app:"/Applications/Firefox.app/Contents/MacOS/firefox",type:"FIREFOX",title:"Firefox",path:"/Library/Application Support/Firefox",icon:"firefox.png"},{app:"/Applications/Firefox Developer Edition.app/Contents/MacOS/firefox",type:"FIREFOX",title:"Firefox Developer Edition",path:"/Library/Application Support/Firefox",icon:"firefox-dev.png"},{app:"/Applications/Firefox Nightly.app/Contents/MacOS/firefox",type:"FIREFOX",title:"Firefox Nightly",path:"/Library/Application Support/Firefox",icon:"firefox-nightly.png"}]};var M=t=>{t.sort((e,o)=>e.name.toLowerCase()<o.name.toLowerCase()?-1:e.name.toLowerCase()>o.name.toLowerCase()?1:0)};var U=()=>{let t=[];return A.firefox.filter(e=>S.default.existsSync(e.app)).forEach(e=>{let o=(0,G.join)($.default.homedir(),e.path,"profiles.ini");if(!S.default.existsSync(o))return null;let c=S.default.readFileSync(o,"utf-8"),n=k.default.parse(c),i=[];Object.values(n).forEach(s=>{if(!s.Name)return null;i.push({type:e.type,browser:e.title,app:e.app,path:s.Name,name:s.Name,icon:e.icon})}),M(i),t.push({name:e.title,profiles:i})}),t};var x=y(require("fs")),H=y(require("os"));var N=()=>{let t=[];return A.chromium.forEach(e=>{let o=`${H.default.homedir()}${e.path}`;if(!x.default.existsSync(o))return null;let c=x.default.readdirSync(o),n=[];c.forEach(i=>{let s=`${o}/${i}/Preferences`;if(i==="System Profile"||!x.default.existsSync(s))return null;let a=x.default.readFileSync(s,"utf-8"),f=JSON.parse(a);n.push({type:e.type,browser:e.title,app:e.app,path:i,name:f.profile.name,icon:e.icon})}),M(n),t.push({name:e.title,profiles:n})}),t};var L=require("child_process"),B=(t,e,o)=>{t==="FIREFOX"&&Y(e,o),t==="CHROMIUM"&&V(e,o)},V=(t,e)=>{(0,L.exec)(`open -n -a "${t}" --args --profile-directory="${e}"`)},Y=(t,e)=>{(0,L.exec)(`"${t}" -P --no-remote ${e}`)};var u=require("react/jsx-runtime");function D(){let t=N(),e=U(),o=[...t,...e];return(0,u.jsx)(l.List,{children:o.map((r,c)=>(0,u.jsx)(l.List.Section,{title:r.name,children:r.profiles.map((n,i)=>(0,u.jsx)(l.List.Item,{icon:{source:`icons/${n.icon}`},title:n.name,accessories:[{text:"Launch this profile",icon:l.Icon.Globe}],actions:(0,u.jsx)(l.ActionPanel,{children:(0,u.jsx)(l.Action,{title:"Open Browser",onAction:async()=>{B(n.type,n.app,n.path),await(0,l.closeMainWindow)({clearRootSearch:!0})}})})},`firefox-profile-${i}`))},`browser-section-${c}`))})}
